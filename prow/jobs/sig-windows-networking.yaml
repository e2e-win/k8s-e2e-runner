periodics:
- name: k8s-e2e-ltsc2019-containerd-flannel-sdnbridge-master
  cron: "0 0 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=k8sbins
        - --build=containerdbins
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=host-gw
        - --container-runtime=containerd
        - --win-os=ltsc2019
        - --cluster-name=capzctrd-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-containerd-flannel-sdnoverlay-master
  cron: "0 6 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=k8sbins
        - --build=containerdbins
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=overlay
        - --container-runtime=containerd
        - --win-os=ltsc2019
        - --cluster-name=capzctrd-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-containerd-flannel-sdnbridge-stable
  cron: "0 1 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=host-gw
        - --container-runtime=containerd
        - --win-os=ltsc2019
        - --cluster-name=capzctrd-ltsc2019-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-containerd-flannel-sdnoverlay-stable
  cron: "0 3 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=overlay
        - --container-runtime=containerd
        - --win-os=ltsc2019
        - --cluster-name=capzctrd-ltsc2019-$(BUILD_ID)

- name: k8s-e2e-ltsc2022-containerd-flannel-sdnbridge-stable
  cron: "0 5 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=host-gw
        - --container-runtime=containerd
        - --win-os=ltsc2022
        - --cluster-name=capzctrd-ltsc2022-$(BUILD_ID)

- name: k8s-e2e-ltsc2022-containerd-flannel-sdnoverlay-stable
  cron: "0 7 */2 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - --build=sdncnibins
        - capz_flannel
        - --flannel-mode=overlay
        - --container-runtime=containerd
        - --win-os=ltsc2022
        - --cluster-name=capzctrd-ltsc2022-$(BUILD_ID)

- name: aks-e2e-ltsc2019-azurecni-1.24-not-patched
  cron: "30 2 * * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)|\[sig-network\].LoadBalancers
        - --test-skip-regex=$(TEST_SKIP_REGEX)
        - --e2e-bin=https://capzwin.blob.core.windows.net/bin/e2e.test-1.24.6-patched
        - aks
        - --aks-version=1.24.6
        - --win-agents-sku=Windows2019
        - --cluster-name=aks-e2e-ltsc2019-$(BUILD_ID)

- name: aks-e2e-ltsc2019-azurecni-1.24
  cron: "0 2 * * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)|\[sig-network\].LoadBalancers
        - --test-skip-regex=$(TEST_SKIP_REGEX)
        - --win-private-bins-zip-url=http://10.244.0.235/proxy_terminating_endpoints.zip
        - --e2e-bin=https://capzwin.blob.core.windows.net/bin/e2e.test-1.24.6-patched
        - aks
        - --aks-version=1.24.6
        - --win-agents-sku=Windows2019
        - --cluster-name=aks-e2e-ltsc2019-$(BUILD_ID)

- name: aks-e2e-ltsc2022-azurecni-1.24
  cron: "0 8 * * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - aks
        - --aks-version=1.24.6
        - --win-agents-sku=Windows2022
        - --cluster-name=aks-e2e-ltsc2022-$(BUILD_ID)

- name: aks-e2e-ltsc2019-azurecni-1.25
  cron: "0 4 * * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - aks
        - --aks-version=1.25.4
        - --win-agents-sku=Windows2019
        - --cluster-name=aks-e2e-ltsc2019-$(BUILD_ID)

- name: aks-e2e-ltsc2022-azurecni-1.25
  cron: "0 10 * * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]
        - aks
        - --aks-version=1.25.4
        - --win-agents-sku=Windows2022
        - --cluster-name=aks-e2e-ltsc2022-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-docker-flannel-winbridge-stable
  cron: "0 9 */3 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --repo-list=https://capzwin.blob.core.windows.net/images/image-repo-list-release-1.23
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]|\[Excluded\:WindowsDocker\]|Guestbook.application.should.create.and.stop.a.working.application
        - capz_flannel
        - --kubernetes-version=v1.23.9
        - --flannel-mode=host-gw
        - --container-runtime=docker
        - --win-os=ltsc2019
        - --cluster-name=capzdocker-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-docker-flannel-winbridge-stable-dsr-disabled
  cron: "0 11 */3 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --repo-list=https://capzwin.blob.core.windows.net/images/image-repo-list-release-1.23
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]|\[Excluded\:WindowsDocker\]|Guestbook.application.should.create.and.stop.a.working.application
        - capz_flannel
        - --kubernetes-version=v1.23.9
        - --flannel-mode=host-gw
        - --enable-win-dsr=False
        - --container-runtime=docker
        - --win-os=ltsc2019
        - --cluster-name=capzdocker-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-docker-flannel-winoverlay-stable
  cron: "0 13 */3 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --repo-list=https://capzwin.blob.core.windows.net/images/image-repo-list-release-1.23
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]|\[Excluded\:WindowsDocker\]|Guestbook.application.should.create.and.stop.a.working.application
        - capz_flannel
        - --kubernetes-version=v1.23.9
        - --flannel-mode=overlay
        - --container-runtime=docker
        - --win-os=ltsc2019
        - --cluster-name=capzdocker-$(BUILD_ID)

- name: k8s-e2e-ltsc2019-docker-flannel-winoverlay-stable-dsr-disabled
  cron: "0 15 */3 * *"
  always_run: true
  labels:
    preset-test-regex: "true"
    preset-github-readonly-token: "true"
    preset-ssh-key: "true"
    preset-prod-azure-account: "true"
    preset-windows-private-registry-cred: "true"
  spec:
    containers:
    - image: ghcr.io/e2e-win/k8s-e2e-runner:main
      imagePullPolicy: Always
      command:
         - /workspace/entrypoint.sh
      args:
        - --repo-list=https://capzwin.blob.core.windows.net/images/image-repo-list-release-1.23
        - --test-focus-regex=$(TEST_FOCUS_REGEX)
        - --test-skip-regex=$(TEST_SKIP_REGEX)|\[Slow\]|\[Excluded\:WindowsDocker\]|Guestbook.application.should.create.and.stop.a.working.application
        - capz_flannel
        - --kubernetes-version=v1.23.9
        - --flannel-mode=overlay
        - --enable-win-dsr=False
        - --container-runtime=docker
        - --win-os=ltsc2019
        - --cluster-name=capzdocker-$(BUILD_ID)
